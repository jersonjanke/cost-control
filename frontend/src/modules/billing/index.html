<div class="row">
    <div class="col-12">
        <form>
            <div class="row">
                <div class="col-6">
                    <label>Referência</label>
                    <input type="month" ng-model="vm.model.ref" class="form-control">
                </div>
                <div class="col-6">
                    <label>Usuário</label>
                    <input type="email" ng-model="vm.model.email" class="form-control" ng-disabled="true">
                </div>
            </div>
        </form>
        <hr>
    </div>
    <div class="col-12 mt-2">
        <h5>Créditos <button ng-click="vm.addCredit()" class="btn btn-success">+</button> </h5>
        <div class="row mt-1" ng-repeat="credit in vm.model.credits | orderBy: 'name'">
            <div class="col-4">
                <input type="text" ng-model="credit.name"  class="form-control">
            </div>
            <div class="col-4">
                <input type="number" ng-model="credit.value" class="form-control">
            </div>
            <div class="col-4">
                <button ng-click="vm.deleteCredit($index, credit)" class="btn btn-danger">-</button>  
            </div>
        </div>
        <hr>
        <div class="row">
            <div class="col-12">
                <span>Total de crédito: </span>
                <span class="green bold">R$: {{ vm.sumValue(vm.model.credits) | numberFormat }}</span>
            </div>
        </div>
    </div>
    <div class="col-12 mt-2">
        <hr>
        <h5>Débitos <button ng-click="vm.addDeb()" class="btn btn-success">+</button></h5>
        <div class="row mt-1" ng-repeat="debit in vm.model.debts | orderBy: 'name'">
                <div class="col-4">
                    <input type="text" ng-model="debit.name"  class="form-control">
                </div>
                <div class="col-4">
                    <input type="number" ng-model="debit.value" class="form-control">
                </div>
                <div class="col-4">
                    <button ng-click="vm.deleteDebit($index, debit)" class="btn btn-danger">-</button>  
                </div>
            </div>
            <hr>
            <div class="row">
                <div class="col-12">
                    <span>Total de débito: </span>
                    <span class="red bold">R$: {{ vm.sumValue(vm.model.debts) | numberFormat }}</span>
                </div>
            </div>
    </div>
    <div class="col-12">
        <hr>
        <h2>Líquido: <span ng-class="{red: vm.isNegative, green: vm.isPositive}">{{ vm.getTotal(vm.model.credits, vm.model.debts) | numberFormat }}</span></h2>
    </div>
    <div class="col-12">
        <hr>
        <button ng-if="!vm.id" ng-click="vm.createBilling(vm.model)" class="btn btn-success">Novo</button>
        <button ng-if="vm.id" ng-click="vm.update(vm.model._id, vm.model)" class="btn btn-primary">Atualizar</button>
        <button ng-click="vm.deleteBilling(vm.model._id)" class="btn btn-danger">Deletar</button>
        <button ui-sref="billing-list" class="btn btn-default">Lista</button>
    </div>
</div>